<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Horta Hero</title>
<link rel="manifest" href="manifest.json">

<style>
:root{
--verde:#1B5E20;
--verde2:#4CAF50;
--bg:#F1F6F1;
--card:#ffffff;
}

body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,sans-serif;
background:var(--bg);
color:#222;
}

header{
background:linear-gradient(120deg,var(--verde),var(--verde2));
color:white;
padding:20px;
text-align:center;
font-size:22px;
font-weight:600;
}

section{
display:none;
padding:20px;
padding-bottom:90px;
}

.active{display:block;}

.card{
background:var(--card);
padding:18px;
border-radius:20px;
margin-bottom:16px;
box-shadow:0 8px 20px rgba(0,0,0,.06);
}

button{
background:var(--verde);
color:white;
border:none;
padding:14px;
border-radius:16px;
font-size:15px;
cursor:pointer;
width:100%;
}

select{
padding:10px;
border-radius:12px;
width:100%;
}

nav{
position:fixed;
bottom:0;
width:100%;
background:white;
display:flex;
justify-content:space-around;
padding:10px 0;
border-top:1px solid #ddd;
}

nav button{
background:none;
color:var(--verde);
font-size:18px;
width:auto;
}

.progress{
background:#ddd;
border-radius:12px;
overflow:hidden;
height:14px;
margin-top:10px;
}

.bar{
background:var(--verde2);
height:100%;
width:0%;
transition:width .5s ease;
}
</style>
</head>

<body>

<header>ğŸŒ± Horta Hero</header>

<section id="home" class="active">

<div class="card">
<h3>ğŸŒ Impacto ClimÃ¡tico</h3>
<h1><span id="carbono">0</span> kg COâ‚‚</h1>

<div class="progress">
<div id="barraCarbono" class="bar"></div>
</div>

<p>Meta mensal: 50 kg</p>
</div>

<div class="card">
<h3>â­ NÃ­vel Atual</h3>
<h2 id="nivel">Seed</h2>
<p id="proximoNivel">PrÃ³ximo nÃ­vel em 20 kg</p>
</div>

<div class="card">
<h3>ğŸ… Conquistas</h3>
<p id="medalhas">Nenhuma ainda</p>
</div>

<div class="card">
<h3>ğŸ“– Progresso do Livro</h3>
<p id="capitulo">CapÃ­tulo bloqueado</p>
</div>

<button onclick="registrarPlantio()">ğŸŒ± Registrar Plantio</button>

</section>

<section id="plantar">
<div class="card">
<h3>Registrar Planta</h3>
<select id="tipo">
<option value="1">Alface â€“ 1kg COâ‚‚</option>
<option value="2">Tomate â€“ 2kg COâ‚‚</option>
<option value="5">Ãrvore â€“ 5kg COâ‚‚</option>
</select>
<br><br>
<button onclick="registrarPlantio()">Confirmar</button>
</div>
</section>

<section id="perfil">
<div class="card">
<h3>Perfil</h3>
<p>Pontos: <strong id="pontos">0</strong></p>
</div>
</section>

<nav>
<button onclick="trocar('home')">ğŸ </button>
<button onclick="trocar('plantar')">ğŸŒ¿</button>
<button onclick="trocar('perfil')">ğŸ‘¤</button>
</nav>

<script>

let carbono=0;
let pontos=0;

function salvar(){
localStorage.setItem("carbono",carbono);
localStorage.setItem("pontos",pontos);
}

function carregar(){
carbono=parseInt(localStorage.getItem("carbono"))||0;
pontos=parseInt(localStorage.getItem("pontos"))||0;
atualizar();
}

function nivelUsuario(){
if(carbono<20)return"Seed ğŸŒ±";
if(carbono<50)return"Grower ğŸŒ¿";
return"Guardian ğŸŒ³";
}

function atualizar(){

document.getElementById("carbono").innerText=carbono;
document.getElementById("pontos").innerText=pontos;
document.getElementById("nivel").innerText=nivelUsuario();

let progresso=Math.min((carbono/50)*100,100);
document.getElementById("barraCarbono").style.width=progresso+"%";

let restante = carbono<20?20-carbono:
carbono<50?50-carbono:0;

document.getElementById("proximoNivel").innerText=
restante>0?`PrÃ³ximo nÃ­vel em ${restante} kg`
:"NÃ­vel mÃ¡ximo atingido";

let medalha="";
if(carbono>=10) medalha+="ğŸŒ± Primeira Semente\n";
if(carbono>=30) medalha+="ğŸŒ¿ Agricultor Urbano\n";
if(carbono>=50) medalha+="ğŸŒ³ GuardiÃ£o Verde\n";

document.getElementById("medalhas").innerText=
medalha||"Nenhuma ainda";

if(carbono>=10){
document.getElementById("capitulo").innerText="CapÃ­tulo 1 desbloqueado";
}
if(carbono>=30){
document.getElementById("capitulo").innerText="CapÃ­tulo 2 desbloqueado";
}
}

function registrarPlantio(){
let v=document.getElementById("tipo");
let valor=v?parseInt(v.value):1;
carbono+=valor;
pontos+=valor*10;
salvar();
atualizar();
}

function trocar(s){
document.querySelectorAll("section").forEach(x=>x.classList.remove("active"));
document.getElementById(s).classList.add("active");
}

window.onload=carregar;

</script>

</body>
</html>