<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Horta Hero</title>

<link rel="manifest" href="manifest.json">

<style>
:root {
  --verde-principal: #1B5E20;
  --verde-claro: #4CAF50;
  --fundo: #F4F8F4;
  --card: #ffffff;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--fundo);
  color: #222;
}

header {
  background: var(--verde-principal);
  color: white;
  padding: 20px;
  text-align: center;
  font-weight: 600;
  font-size: 20px;
}

section {
  display: none;
  padding: 20px;
  padding-bottom: 90px;
}

.active {
  display: block;
}

.card {
  background: var(--card);
  padding: 18px;
  border-radius: 16px;
  margin-bottom: 16px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.05);
}

button {
  background: var(--verde-principal);
  color: white;
  border: none;
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 14px;
  cursor: pointer;
}

nav {
  position: fixed;
  bottom: 0;
  width: 100%;
  background: white;
  display: flex;
  justify-content: space-around;
  padding: 10px 0;
  border-top: 1px solid #ddd;
}

nav button {
  background: none;
  color: var(--verde-principal);
  font-weight: 600;
  font-size: 18px;
}
</style>
</head>

<body>

<header>üå± Horta Hero</header>

<!-- HOME -->
<section id="home" class="active">
  <div class="card">
    <h3>Miss√£o do Dia</h3>
    <p>Plante 1 muda e registre no sistema.</p>
    <button onclick="registrarPlantio()">Registrar Plantio</button>
  </div>

  <div class="card">
    <h3>Impacto Clim√°tico</h3>
    <p><strong id="carbono">0</strong> kg CO‚ÇÇ compensados</p>
  </div>

  <div class="card">
    <h3>Cap√≠tulo do Livro</h3>
    <p id="capitulo">Bloqueado</p>
  </div>
</section>

<!-- PLANTAR -->
<section id="plantar">
  <div class="card">
    <h3>Registrar Nova Planta</h3>
    <select id="tipoPlanta">
      <option value="1">Alface (1kg CO‚ÇÇ)</option>
      <option value="2">Tomate (2kg CO‚ÇÇ)</option>
      <option value="5">√Årvore (5kg CO‚ÇÇ)</option>
    </select>
    <br><br>
    <button onclick="registrarPlantio()">Confirmar</button>
  </div>
</section>

<!-- CARBONO -->
<section id="carbonoSec">
  <div class="card">
    <h3>Total de Carbono</h3>
    <p><strong id="carbonoTotal">0</strong> kg CO‚ÇÇ</p>
    <p style="color:#666;">Baseado em estimativa agr√≠cola simplificada.</p>
  </div>
</section>

<!-- LIVRO -->
<section id="livro">
  <div class="card">
    <h3>Ra√≠zes Invis√≠veis</h3>
    <p id="textoLivro">Continue plantando para desbloquear o primeiro cap√≠tulo.</p>
  </div>
</section>

<!-- PERFIL -->
<section id="perfil">
  <div class="card">
    <h3>Perfil</h3>
    <p>Usu√°rio: <strong>Hero</strong></p>
    <p>Pontos: <strong id="pontos">0</strong></p>
  </div>
</section>

<nav>
  <button onclick="trocar('home')">üè†</button>
  <button onclick="trocar('plantar')">üåø</button>
  <button onclick="trocar('carbonoSec')">‚ôªÔ∏è</button>
  <button onclick="trocar('livro')">üìñ</button>
  <button onclick="trocar('perfil')">üë§</button>
</nav>

<script>
// ===============================
// ESTADO GLOBAL
// ===============================
let totalCarbono = 0;
let pontos = 0;

// ===============================
// CARREGAR DADOS SALVOS
// ===============================
function carregarDados() {
  const carbonoSalvo = localStorage.getItem("totalCarbono");
  const pontosSalvos = localStorage.getItem("pontos");

  if (carbonoSalvo) totalCarbono = parseInt(carbonoSalvo);
  if (pontosSalvos) pontos = parseInt(pontosSalvos);

  atualizarInterface();
}

// ===============================
// SALVAR DADOS
// ===============================
function salvarDados() {
  localStorage.setItem("totalCarbono", totalCarbono);
  localStorage.setItem("pontos", pontos);
}

// ===============================
// ATUALIZAR INTERFACE
// ===============================
function atualizarInterface() {
  document.getElementById("carbono").innerText = totalCarbono;
  document.getElementById("carbonoTotal").innerText = totalCarbono;
  document.getElementById("pontos").innerText = pontos;

  if (totalCarbono >= 10) {
    document.getElementById("capitulo").innerText = "Cap√≠tulo 1 desbloqueado!";
    document.getElementById("textoLivro").innerText =
      "Cap√≠tulo 1 ‚Äì A saca de sementes representava n√£o apenas alimento, mas todas as ideias que germinariam no futuro.";
  }
}

// ===============================
// NAVEGA√á√ÉO
// ===============================
function trocar(secao) {
  document.querySelectorAll("section").forEach(s => s.classList.remove("active"));
  document.getElementById(secao).classList.add("active");
}

// ===============================
// REGISTRAR PLANTIO
// ===============================
function registrarPlantio() {
  const select = document.getElementById("tipoPlanta");
  const valor = select ? parseInt(select.value) : 1;

  totalCarbono += valor;
  pontos += valor * 10;

  salvarDados();
  atualizarInterface();
}

// ===============================
// INICIALIZA√á√ÉO
// ===============================
window.onload = function() {
  carregarDados();
};
</script>

</body>
</html>